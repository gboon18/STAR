#!/bin/bash

source $(root-config --bindir)/thisroot.sh

cwd=$(pwd)

for mergedN in 0 1 2 3 4
do

./eff_cbwc_main Ru 10 20 20 60 120 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root ref3StPicoEvt ${cwd}/output/Ru_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root ${cwd}/output/Ru_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
./eff_cbwc_main Zr 10 20 20 60 120 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root ref3StPicoEvt ${cwd}/output/Zr_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root ${cwd}/output/Zr_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root


for dca_cut in 8 9 11 12
do
    ./eff_cbwc_main Ru ${dca_cut} 20 20 60 120 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_${dca_cut}_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Ru_dca_${dca_cut}_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Ru_cbwc_dca_${dca_cut}_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
    ./eff_cbwc_main Zr ${dca_cut} 20 20 60 120 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_${dca_cut}_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Zr_dca_${dca_cut}_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Zr_cbwc_dca_${dca_cut}_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
done

for nhitsfit_cut in 15 18 22 25
do
    ./eff_cbwc_main Ru 10 ${nhitsfit_cut} 20 60 120 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_${nhitsfit_cut}_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Ru_dca_10_nhf_${nhitsfit_cut}_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Ru_cbwc_dca_10_nhf_${nhitsfit_cut}_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
    ./eff_cbwc_main Zr 10 ${nhitsfit_cut} 20 60 120 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_${nhitsfit_cut}_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Zr_dca_10_nhf_${nhitsfit_cut}_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Zr_cbwc_dca_10_nhf_${nhitsfit_cut}_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
done

for nsp_cut in 16 18 22 25
do
    ./eff_cbwc_main Ru 10 20 ${nsp_cut} 60 120 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_${nsp_cut}_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Ru_dca_10_nhf_20_nsp_${nsp_cut}_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Ru_cbwc_dca_10_nhf_20_nsp_${nsp_cut}_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
    ./eff_cbwc_main Zr 10 20 ${nsp_cut} 60 120 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_${nsp_cut}_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Zr_dca_10_nhf_20_nsp_${nsp_cut}_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Zr_cbwc_dca_10_nhf_20_nsp_${nsp_cut}_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
done

#mass cut
    ./eff_cbwc_main Ru 10 20 20 50 110 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_50_m2up_110_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Ru_dca_10_nhf_20_nsp_20_m2low_50_m2up_110_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Ru_cbwc_dca_10_nhf_20_nsp_20_m2low_50_m2up_110_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
    ./eff_cbwc_main Ru 10 20 20 50 115 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_50_m2up_115_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Ru_dca_10_nhf_20_nsp_20_m2low_50_m2up_115_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Ru_cbwc_dca_10_nhf_20_nsp_20_m2low_50_m2up_115_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
    ./eff_cbwc_main Ru 10 20 20 65 125 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_65_m2up_125_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Ru_dca_10_nhf_20_nsp_20_m2low_65_m2up_125_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Ru_cbwc_dca_10_nhf_20_nsp_20_m2low_65_m2up_125_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
    ./eff_cbwc_main Ru 10 20 20 70 130 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_70_m2up_130_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Ru_dca_10_nhf_20_nsp_20_m2low_70_m2up_130_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Ru_cbwc_dca_10_nhf_20_nsp_20_m2low_70_m2up_130_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root

    ./eff_cbwc_main Zr 10 20 20 50 110 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_50_m2up_110_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Zr_dca_10_nhf_20_nsp_20_m2low_50_m2up_110_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Zr_cbwc_dca_10_nhf_20_nsp_20_m2low_50_m2up_110_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
    ./eff_cbwc_main Zr 10 20 20 50 115 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_50_m2up_115_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Zr_dca_10_nhf_20_nsp_20_m2low_50_m2up_115_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Zr_cbwc_dca_10_nhf_20_nsp_20_m2low_50_m2up_115_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
    ./eff_cbwc_main Zr 10 20 20 65 125 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_65_m2up_125_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Zr_dca_10_nhf_20_nsp_20_m2low_65_m2up_125_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Zr_cbwc_dca_10_nhf_20_nsp_20_m2low_65_m2up_125_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root
    ./eff_cbwc_main Zr 10 20 20 70 130 20 5 100 100 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_70_m2up_130_ptmax_20_ymax_5_detefflow_err_100_deteffhigh_err_100.root  ref3StPicoEvt output/Zr_dca_10_nhf_20_nsp_20_m2low_70_m2up_130_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root output/Zr_cbwc_dca_10_nhf_20_nsp_20_m2low_70_m2up_130_ptmx_20_ymax_5_detlow_100_deghi_100_${mergedN}.root

    #det eff err: low_pt high_pt
    ./eff_cbwc_main Ru 10 20 20 60 120 20 5 105 105 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_105_deteffhigh_err_105.root  ref3StPicoEvt output/Ru_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_105_deghi_105_${mergedN}.root output/Ru_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_105_deghi_105_${mergedN}.root
    ./eff_cbwc_main Zr 10 20 20 60 120 20 5 105 105 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_105_deteffhigh_err_105.root  ref3StPicoEvt output/Zr_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_105_deghi_105_${mergedN}.root output/Zr_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_105_deghi_105_${mergedN}.root
    ./eff_cbwc_main Ru 10 20 20 60 120 20 5 95 95 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_95_deteffhigh_err_95.root  ref3StPicoEvt output/Ru_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_95_deghi_95_${mergedN}.root output/Ru_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_95_deghi_95_${mergedN}.root
    ./eff_cbwc_main Zr 10 20 20 60 120 20 5 95 95 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_95_deteffhigh_err_95.root  ref3StPicoEvt output/Zr_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_95_deghi_95_${mergedN}.root output/Zr_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_95_deghi_95_${mergedN}.root
    ./eff_cbwc_main Ru 10 20 20 60 120 20 5 105 95 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_105_deteffhigh_err_95.root  ref3StPicoEvt output/Ru_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_105_deghi_95_${mergedN}.root output/Ru_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_105_deghi_95_${mergedN}.root
    ./eff_cbwc_main Zr 10 20 20 60 120 20 5 105 95 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_105_deteffhigh_err_95.root  ref3StPicoEvt output/Zr_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_105_deghi_95_${mergedN}.root output/Zr_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_105_deghi_95_${mergedN}.root
    ./eff_cbwc_main Ru 10 20 20 60 120 20 5 95 105 ${mergedN} ${cwd}/input/merged_mTerms_f_Ru_good123/Ru_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_95_deteffhigh_err_105.root  ref3StPicoEvt output/Ru_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_95_deghi_105_${mergedN}.root output/Ru_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_95_deghi_105_${mergedN}.root
    ./eff_cbwc_main Zr 10 20 20 60 120 20 5 95 105 ${mergedN} ${cwd}/input/merged_mTerms_f_Zr_good123/Zr_mTerms_f_mergedFile_dca_10_nhitsfit_20_nsp_20_m2low_60_m2up_120_ptmax_20_ymax_5_detefflow_err_95_deteffhigh_err_105.root  ref3StPicoEvt output/Zr_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_95_deghi_105_${mergedN}.root output/Zr_cbwc_dca_10_nhf_20_nsp_20_m2low_60_m2up_120_ptmx_20_ymax_5_detlow_95_deghi_105_${mergedN}.root

done
